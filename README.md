# Shizuoka Choropleth Map App

このプロジェクトは、Flask アプリを利用して静岡県の市町村ごとの統計データをコロプレス図で可視化するツールです。  
CSVファイルをアップロードすると、GeoJSON データとマージして色分けされた地図を生成します。  

---

## 開発状況

このプロジェクトは学習目的で開発しています。  
まだ開発途中であり、今後、対応するファイルの種類や作画の機能を追加予定です。

---

### セットアップ手順

```bash
git clone https://github.com/username/shizuoka-choropleth.git
cd shizuoka-choropleth
pip install -r requirements.txt
```

`.env` ファイルを作成し、以下を設定してください。
ウェブアプリ上では使わないため、importとload_dotenv()をコメントアウトしています。

```env
FLASK_KEY=任意のシークレットキー
```

---

## 実行方法

Flask の開発サーバーを起動するには以下を実行します。

```bash
flask run
```

ブラウザで [http://127.0.0.1:5000](http://127.0.0.1:5000) を開いてください。

---

## 使い方

1. トップページから案内に沿ってCSV をアップロードします  
   - CSV には **自治体名** と **数値列** が含まれている必要があります  
2. 指定したカラムの値に基づき、市町村ごとに色分けされた地図が生成されます  

### CSV の例

```csv
自治体名,人口
静岡市,700000
浜松市,800000
沼津市,200000
```

アップロードすると以下のようなコロプレス図が表示されます。  
（生成された地図のスクリーンショットをここに貼ってください）

---

## 機能

- CSV と GeoJSON をマージしてデータを地図化  
- 指定カラムの値に応じて市町村を色分け表示  
- 凡例付きのコロプレス図を生成  
- 出力は画像（PNG）としてレスポンス  

---

## 技術スタック

- **Python**
- **Flask** - Web アプリケーションフレームワーク  
- **GeoPandas** - 地理空間データ処理  
- **Matplotlib** - コロプレス図の描画  
- **WTForms** - フォーム入力の管理  

---

## データソース

- [国土数値情報（行政区域データ）](https://nlftp.mlit.go.jp/ksj/)  

---

## ライセンス

このプロジェクトは **MIT ライセンス** の下で公開されています。
